<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portal de Servicios Aduaneros</title>
  <link rel="stylesheet" href="../css/style.css" />

<script>
  // Verificar sesi√≥n al cargar la p√°gina
  document.addEventListener('DOMContentLoaded', function() {
    const usuarioLogeado = localStorage.getItem("usuarioLogeado");
    const paginaActual = window.location.pathname.split('/').pop();

  // P√°ginas que requieren autenticaci√≥n
    const paginasProtegidas = [
      'index.html', 
      'official/dashboard-funcionario.html',
      'official/revision-declaraciones.html',
      'official/inspecciones.html',
      'official/soporte.html'
      // Agrega aqu√≠ otras p√°ginas protegidas
    ];
    
    if (paginasProtegidas.includes(paginaActual) && !usuarioLogeado) {
      localStorage.setItem("paginaDestino", paginaActual);
      window.location.href = "users/login.html";
    }
    
    // Verificar si es funcionario para p√°ginas de funcionario
    if (paginaActual.includes('dashboard') || paginaActual.includes('funcionario')) {
      if (usuarioLogeado !== "funcionario") {
        alert("Acceso denegado: Se requieren privilegios de funcionario");
        window.location.href = usuarioLogeado ? "index.html" : "../users/login.html";
      }
    }
  });
</script>

</head>
<body>
  <!-- Encabezado -->
  <header class="navbar">
    <div class="logo">
      <span class="icono">üõ°Ô∏è</span>
      <div class="textos">
        <strong>SERVICIO NACIONAL DE ADUANAS</strong>
        <small>Rep√∫blica de Chile</small>
      </div>
    </div>
    <nav>
      <button class="login-btn" onclick="window.location.href='users/login.html'">üîê Iniciar Sesi√≥n</button>
      <button class="login-btn" onclick="window.location.href='auth/registro.html'"> Registrarse </button>
    </nav>
  </header>

  <!-- Bandera -->
  <div class="bandera">
    <div class="franja azul"></div>
    <div class="estrella">‚≠ê</div>
    <div class="franja roja"></div>
  </div>

  <!-- Cuerpo -->
  <main>
    <h1>Portal de Servicios Aduaneros</h1>
    <p class="subtitulo">Facilitamos el comercio exterior de Chile con servicios digitales seguros y eficientes</p>

    <div class="grid">
      <div class="card">
        <div class="icon azul">üì¶</div>
        <h2>Declaraci√≥n de Importaci√≥n</h2>
        <p>Registre sus importaciones y calcule aranceles autom√°ticamente</p>
        <button onclick="verificarSesionYRedirigir('procedures/importacion.html')">Iniciar Tr√°mite</button>
      </div>

      <div class="card">
        <div class="icon verde">üìÑ</div>
        <h2>Certificado de Origen</h2>
        <p>Solicite certificados para productos de exportaci√≥n</p>
        <button onclick="verificarSesionYRedirigir('procedures/certificado.html')">Iniciar Tr√°mite</button>
      </div>

      <div class="card">
        <div class="icon rojo">‚è±Ô∏è</div>
        <h2>Despacho Urgente</h2>
        <p>Tramite despachos prioritarios para mercanc√≠a sensible</p>
        <button onclick="verificarSesionYRedirigir('procedures/despacho.html')">Iniciar Tr√°mite</button>
      </div>

      <div class="card">
        <div class="icon morado">üßæ</div>
        <h2>Registro de Exportador</h2>
        <p>Obtenga su registro oficial para exportar productos</p>
        <button onclick="verificarSesionYRedirigir('procedures/exportador.html')">Iniciar Tr√°mite</button>
      </div>

      <div class="card">
        <div class="icon amarillo">üí≤</div>
        <h2>Valoraci√≥n Aduanera</h2>
        <p>Determine el valor correcto de sus mercanc√≠as</p>
        <button onclick="verificarSesionYRedirigir('procedures/valoracion.html')">Iniciar Tr√°mite</button>
      </div>

      <div class="card">
        <div class="icon azul">‚öñÔ∏è</div>
        <h2>Consulta Arancelaria</h2>
        <p>Verifique la clasificaci√≥n y aranceles aplicables</p>
        <button onclick="verificarSesionYRedirigir('procedures/arancelaria.html')">Iniciar Tr√°mite</button>
      </div>

      <div class ="card">
        <div class="icon verde">üêæ</div>
        <h2>Declaraci√≥n de Mascota</h2>
        <p>Registre la entrada de mascotas al pa√≠s</p>
        <button onclick="verificarSesionYRedirigir('procedures/mascota.html')">Iniciar Tr√°mite</button>
      </div> 
      
      <div class="card">
        <div class="icon rojo">üöß</div>
        <h2>Pasos Fronterizos</h2>
        <p>Informaci√≥n sobre pasos fronterizos y requisitos</p>
        <button onclick="verificarSesionYRedirigir('procedures/pasos.html')">Iniciar Tr√°mite</button>
        </div>
      
      <div class="card">
        <div class="icon morado">üöó</div>
        <h2>Registrar Veh√≠culo</h2>
        <p>Registre su veh√≠culo para tr√°mites aduaneros</p>
        <button onclick="verificarSesionYRedirigir('procedures/vehiculo.html')">Iniciar Tr√°mite</button>
        </div>
      </div>


  </main>

  <script src="../js/script.js"></script>
</body>
</html>
